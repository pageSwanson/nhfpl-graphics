<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Using the Pts library</title>
    <script type="text/javascript" src="https://unpkg.com/pts@0.10.9/dist/pts.js"></script>
    <script>
    "use strict";
     Pts.namespace(window);
     function draw() {
         let canvas = document.querySelector("canvas");
         let space = new CanvasSpace(canvas);
         space.setup({
             bgcolor: "#fff"
         });
         let form = space.getForm();

         space.add((time, _) => {
             let point_group = new Group(space.center,
                                         new Pt(space.width, space.center.y));

             let segment_ratio = Num.cycle( (time%2000)/2000);
             let radians = new Array(Math.floor( 100 * segment_ratio)); // create an array, representing each increment clockwise
             radians.fill(2 * Math.PI / radians.length); // populate the array automatically with the step size in radians (rotational step size)

             radians.forEach((x, idx) => { // do the following for each of the segments in the array
                 let from_point = new Pt(point_group[1]); // copy the point along the circumference before rotating
                 point_group.rotate2D(x);
                 point_group.scale((radians.length - idx) / radians.length); // scale the 'vector' by some fraction after we rotate

                 form.stroke("#348", 6).line( point_group );
                 // create an arc spanning the rotation from the last vector to the updated vector (after scale / rotation)
                 form.strokeOnly("#000", 6).arc(space.center, point_group[1].$subtract(space.center).magnitude(), from_point.angle(), x, true);
             });
         });

         space.play();
     }
    </script>
    <style>
     body {
         background-color: linen;
     }
     div {
         text-align: center;
     }
    </style>
  </head>
  <body onload="draw();">
      <div>
          <canvas width="600" height="600">No canvas available if you're reading this</canvas>
      </div>
  </body>
</html>
